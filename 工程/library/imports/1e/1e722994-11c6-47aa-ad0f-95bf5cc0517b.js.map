{"version":3,"sources":["../../../../assets/script/assets/script/LoadCp.js"],"names":["cc","Class","extends","Component","properties","onLoad","log","view","enableRetina","myAssets","resList","count","i","length","loader","loadResAll","err","assets","director","loadScene","bind"],"mappings":";;;;;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY,EAHP;;AAOL;AACAC,YAAQ,kBAAY;;AAEhBL,WAAGM,GAAH,CAAO,QAAP;AACAN,WAAGO,IAAH,CAAQC,YAAR,CAAqB,KAArB;AACA;AACAR,WAAGS,QAAH,GAAc,EAAd;;AAEA,YAAIC,UAAU;AACV;AACA,cAFU;AAGV;AACA,iBAJU,EAKV,OALU,EAMV,OANU,CAAd;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAIC,QAAQ,CAAZ;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,QAAQG,MAA5B,EAAoCD,GAApC,EAAyC;AACrCZ,eAAGc,MAAH,CAAUC,UAAV,CAAqBL,QAAQE,CAAR,CAArB,EAAiC,UAAUA,CAAV,EAAaI,GAAb,EAAkBC,MAAlB,EAA0B;AACvDjB,mBAAGS,QAAH,CAAYC,QAAQE,CAAR,CAAZ,IAA0BK,MAA1B;AACAjB,mBAAGM,GAAH,CAAO,WAAWK,KAAlB;AACAA;AACA,oBAAGA,SAASD,QAAQG,MAApB,EAA2B;AACvB;AACA;AACA;AACA;;;AAGA;AACAb,uBAAGkB,QAAH,CAAYC,SAAZ,CAAsB,YAAtB;AACH;AACJ,aAdgC,CAc/BC,IAd+B,CAc1B,IAd0B,EAcpBR,CAdoB,CAAjC;AAeH;AAEJ;;AAED;AACA;;AAEA;AA7DK,CAAT","file":"LoadCp.js","sourceRoot":"../../../../assets/script","sourcesContent":["\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        \r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n\r\n        cc.log(\"开始加载资源\")\r\n        cc.view.enableRetina(false)\r\n        // cc.view.enableAutoFullScreen(true)\r\n        cc.myAssets = {}\r\n\r\n        var resList = [\r\n            //\"sounds\",\r\n            \"pics\",\r\n            // \"scenes\",\r\n            \"prefabs\",\r\n            \"fonts\",\r\n            \"anims\",\r\n        ]\r\n\r\n        // var soundResList = [\r\n        //     \"res/raw-assets/sounds/an.mp3\",\r\n        //     \"res/raw-assets/sounds/an.mp3\",\r\n        //     \"res/raw-assets/sounds/bgm.mp3\",\r\n        //     \"res/raw-assets/sounds/cannot1.mp3\",\r\n        //     \"res/raw-assets/sounds/cannot2.mp3\",\r\n        //     \"res/raw-assets/sounds/fangxia1.mp3\",\r\n        //     \"res/raw-assets/sounds/fangxia2.mp3\",\r\n        //     \"res/raw-assets/sounds/fangxia3.mp3\",\r\n        //     \"res/raw-assets/sounds/xiaochu.mp3\",\r\n        // ]\r\n\r\n        // 加载目录下所有资源\r\n        var count = 0\r\n        for (var i = 0; i < resList.length; i++) {\r\n            cc.loader.loadResAll(resList[i], function (i, err, assets) {\r\n                cc.myAssets[resList[i]] = assets\r\n                cc.log(\"资源加载完成\" + count)\r\n                count++\r\n                if(count >= resList.length){\r\n                    //为了前置加载音效，这里直接为这个场景添加所有声音的组件\r\n                    // for (var j = 0; j < soundResList.length; j++) {\r\n                    //     cc.audioEngine.playEffect(cc.url.raw(soundResList[j]), false, 0)\r\n                    // }\r\n\r\n\r\n                    //开始游戏\r\n                    cc.director.loadScene(\"startScene\")\r\n                }\r\n            }.bind(this, i))\r\n        }\r\n\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}